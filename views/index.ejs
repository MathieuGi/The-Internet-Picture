<!DOCTYPE html>
<html>
<head>
    <title>C'est qui le plus riche</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous">
    <link rel='stylesheet' href='/stylesheets/main.css' />
</head>
<body>
<div class="container-fluid">

  <div class="paiement-success text-center">
    Transaction effectuée ! Merci pour votre confiance !
  </div>
  <div class="row main-title">
<!--    <div class="col-md-4 img1">
      <img class="float-right" src="images/static/header2.png">
    </div> -->
    <div class="col-md-12 text-center">
      <h1>Qui est le plus riche</h1>
    </div>
<!--    <div class="col-md-4 img2">
      <img class="float-left" src="images/static/header1.png">
    </div> -->
  </div>

  <!-- Menu area -->
  <div class="row" id="menu">

    <div class="col-md-4 menu-item text-center" id="rank-table-area">
      Classement
    </div>

    <div class="col-md-4 menu-item active text-center" id="picture-area">
      Image
    </div>

    <div class="col-md-4 menu-item text-center" id="bid-more">
      Enchérir
    </div>

  </div>

  <!--Rank part -->
  <div class="row main-area rank-table-area">
    <div class="col-md-8 mx-auto">

      <!-- Header part -->
      <div class="rank-header">
        <span>Classement</span>
        <img src="images/static/arrow-down.png" alt="down-arrow"/>
      </div>

      <!-- Rank table -->
      <div class="rank-table">
        <table class="table table-responsive table-striped">
          <tbody>
            <% bidders.forEach(function(bidder, index){ %>
            <tr>
              <td class="align-middle"><img class="thumbs" src="images/thumbs/<%= bidder.img_path %>" alt="image miniature"></td>
              <td class="align-middle text-truncate"><%= bidder.name %></td>
              <td class="align-middle"><%= bidder.price %> €</td>
              <td class="align-middle">temps</td>
            </tr>
            <% }) %>

            <% if(bidders.length === 10) { %>
            <tr id="load-more">
              <td class="align-middle text-center" colspan="4">
                <button class="btn btn-primary btn-block see-more" data-offset="10">Voir plus</button>
                <img class="loading" src="images/static/loading.gif"/>
              </td>
            </tr>
            <% } %>
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <!--Picture part-->
  <div class="row main-area picture-area">

    <!--Image of the second richest-->
    <div class="col-md-4 text-center">
      <article class="main-article rich2">

        <!-- Header part -->
        <header>
          <div class="row">
            <div class="col-md-8">
              <span class="richest-name float-left align-middle"><%= bidders[1].name %></span>
            </div>
            <div class="col-md-4">
              <span class="timer float-right align-middle">Timer</span>
            </div>
          </div>
        </header>

        <!-- Image and text part -->
        <% if(bidders[1].url != "") { %>
        <a href="<%= bidders[1].url %>" target="_blank">
        <% } %>
          <div class="img">
            <img class="img-fluid" src="images/fullsize/<%= bidders[1].img_path %>" alt="Richest image"/>
          </div>
        <% if(bidders[1].url != "") { %>
        </a>
        <% } %>
      </article>
    </div>

    <!--Image of THE richest-->
    <div class="col-md-5 text-center">  
      <article class="main-article rich1">

        <!-- Header part -->
        <header class="header">
          <div class="row">
            <div class="col-md-8">
              <span class="richest-name float-left align-middle"><%= bidders[0].name %></span>
            </div>
            <div class="col-md-4">
              <span class="timer float-right align-middle">Timer</span>
            </div>
          </div>
        </header>

        <!-- Image and text part -->
        <div class="img-text">
        
          <% if(bidders[0].url != "") { %>
          <a href="<%= bidders[0].url %>" target="_blank">
          <% } %>

            <div class="img imageOfRichest">
              <img class="img-fluid" src="public/images/fullsize/<%= bidders[0].img_path %>" alt="Richest image"/>
            </div>

          <% if(bidders[0].url != "") { %>
          </a>
          <% } %>

            <% if(bidders[0].text != "") { %>
            <div class="richest-text">
              <%= bidders[0].text %>
            </div>
            <% } %>
          </div>

        
        
      </article>
    </div>

    <!--Image of the third richest-->
    <div class="col-md-3 text-center">
      <article class="main-article rich3">

        <!-- Header part -->
        <header>
          <div class="row">
            <div class="col-md-8">
              <span class="richest-name float-left align-middle"><%= bidders[2].name %></span>
            </div>
          </div>
        </header>

        <!-- Image and text part -->
        <% if(bidders[2].url != "") { %>
        <a href="<%= bidders[2].url %>" target="_blank">
        <% } %>

          <div class="img">
            <img class="img-fluid" src="images/fullsize/<%= bidders[2].img_path %>" alt="Richest image"/>
          </div>

        <% if(bidders[2].url != "") { %>
        </a>
        <% } %>

      </article>
    </div>
  </div>

  <!--Bid part-->
  <div class="row main-area bid-more">
    <div class="col-md-12 text-center">

      <!-- Paiement form -->
      <form id="paiement-form" novalidate>
        <div class="row">
          <div class="col-md-1"></div>

          <!-- Form first part -->
          <div class="col-md-5 information">

            <!-- Name -->
            <div class="form-group">
                <label for="form-name">Nom *</label>
                <input type="text" class="form-control" id="form-name" aria-describedby="name" placeholder="Entrez votre nom" required>
            </div>

            <!-- Image -->
            <div class="form-group">
                <label for="form-image">Image (jpeg, png, jpg, gif - Maximum 2Mo) *</label>
                <div id="wrongImageType" class="error-message"> Seuls les type jpeg, jpg, png et gif sont acceptés </div>
                <input type="file" class="form-control" id="form-image" required>
            </div>

            <!-- Link -->
            <div class="form-group">
                <label for="form-url">Lien url</label>
                <input type="url" class="form-control" id="form-url" placeholder="Entrez un lien">
            </div>

            <!-- Text -->
            <div class="form-group">
                <label for="form-text">Texte complémentaire</label>
                <input type="text" class="form-control" id="form-text" placeholder="Entrez un text complémentaire">
            </div>
          </div>

          <!-- Separation between the two parts of form -->
          <div class="col-md-1"></div>

          <!-- Form second part -->
          <div class="col-md-4 paiement">

            <!-- Selected price -->
            <div class="form-group">
                <label for="form-price">Montant (€) *</label>
                <input type="number" class="form-control" id="form-price" placeholder="3" required> 
            </div>

            <!-- Card number -->
            <div class="form-group">
              <label for="card-element">Card</label>
              <div id="card-element" class="form-control"></div>
            </div>

            <!-- User terms -->
            <div class="checkbox">
              <label>
                  <input type="checkbox" checked> J'accepte les <a href="#" class="terms">conditions générales d'utilisation</a>
              </label>
            </div>

            <!-- Missing fields message -->
            <div class="invalid-feedback">
              Certains champs ne sont pas remplis correctement
            </div>

            <!-- Submit -->
            <button classe="confirm-button" id="buy-button">Pay 25€</button>

            <p class="star-legend">* Champ obligatoire</p>

            <!-- Outcome for stripe -->
            <div class="outcome">
              <div class="error" role="alert"></div>
              <div class="success">
                <span class="token"></span>
              </div>
            </div>

          </div>
        </div>
      </form>
    </div>
  </div>
</div>
    
<script src="/jquery/jquery.js"></script>
<script src="/bootstrap/js/bootstrap.min.js"></script>
<script type="text/javascript" src="/javascripts/main.js" ></script> 
<script src="/socket.io/socket.io.js"></script>  
<script src="https://js.stripe.com/v3/"></script>
</body>
</html>